export * from "./contracts";

export function decodeCursorTimestamp(
  cursor?: string,
): { lt: Date } | undefined {
  if (!cursor) return;
  const decodedCursor = decodeCursor(cursor);
  return decodedCursor ? { lt: new Date(decodedCursor.timestamp) } : undefined;
}

export function decodeCursor(
  cursor?: string,
): Record<string, string> | undefined {
  if (!cursor) return;
  try {
    const decodedString = Buffer.from(cursor, "base64").toString("ascii");
    const decodedCursor = JSON.parse(decodedString);
    if (typeof decodedCursor === "object") {
      return decodedCursor;
    }
    console.error(
      "Decoded cursor does not match expected format:",
      decodedCursor,
    );
  } catch (error) {
    console.error("Error decoding cursor:", error);
  }
}

export function encodeCursor(
  cursor?: Record<string, string | number>,
): string | undefined {
  if (!cursor) return;
  const encodedString = JSON.stringify(cursor);
  return Buffer.from(encodedString).toString("base64");
}

export function camelToSnakeCase(str: string) {
  return str.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);
}

export const FARCON_FIDS = [
  "8439",
  "521",
  "4564",
  "5328",
  "155",
  "214447",
  "3731",
  "4256",
  "17223",
  "4823",
  "3017",
  "303561",
  "20391",
  "1303",
  "7376",
  "1236",
  "215116",
  "17",
  "1657",
  "1970",
  "234616",
  "191680",
  "1048",
  "1992",
  "7791",
  "10703",
  "2826",
  "922",
  "232017",
  "5620",
  "325",
  "53",
  "3734",
  "11543",
  "1610",
  "192279",
  "3206",
  "296583",
  "20270",
  "4373",
  "6048",
  "2779",
  "1095",
  "2455",
  "16",
  "115",
  "6373",
  "18",
  "11467",
  "236173",
  "4368",
  "133",
  "2126",
  "6841",
  "18267",
  "3484",
  "5309",
  "8446",
  "6437",
  "4327",
  "2902",
  "737",
  "7715",
  "266767",
  "932",
  "1355",
  "193861",
  "231788",
  "485524",
  "2",
  "282672",
  "20698",
  "3882",
  "2364",
  "5745",
  "8",
  "19637",
  "19129",
  "8587",
  "9933",
  "24",
  "193930",
  "2755",
  "1338",
  "4612",
  "431",
  "546",
  "58",
  "402125",
  "656",
  "318473",
  "279454",
  "248032",
  "138",
  "4665",
  "5774",
  "702",
  "3414",
  "196851",
  "4375",
  "4803",
  "16925",
  "71",
  "7787",
  "9531",
  "4423",
  "3797",
  "347",
  "8555",
  "249453",
  "616",
  "414535",
  "3150",
  "1656",
  "6731",
  "3391",
  "349146",
  "1237",
  "16340",
  "1277",
  "5521",
  "6801",
  "315",
  "451",
  "4109",
  "242139",
  "2834",
  "533",
  "1137",
  "2898",
  "369",
  "4240",
  "1072",
  "11510",
  "13563",
  "9265",
  "3",
  "13465",
  "213520",
  "1655",
  "20909",
  "211159",
  "3621",
  "1298",
  "52",
  "4285",
  "1325",
  "675",
  "10351",
  "17592",
  "1407",
  "5047",
  "3854",
  "1460",
  "196388",
  "761",
  "5179",
  "3004",
  "964",
  "838",
  "3108",
  "15799",
  "18407",
  "11835",
  "2222",
  "183",
  "363",
  "212259",
  "1598",
  "309",
  "3895",
  "2904",
  "13659",
  "12502",
  "800",
  "6473",
  "4253",
  "9186",
  "4407",
  "99",
  "270135",
  "16567",
  "211705",
  "3860",
  "4905",
  "14225",
  "426",
  "9280",
  "1886",
  "106",
  "350",
  "30",
  "625",
  "2723",
  "9176",
  "3696",
  "16522",
  "576",
  "5802",
  "4065",
  "231317",
  "6500",
  "6162",
  "1356",
  "17318",
  "1606",
  "5644",
  "4513",
  "1136",
  "412",
  "7620",
  "69",
  "4583",
  "226690",
  "3380",
  "20147",
  "247238",
  "8109",
  "12431",
  "10178",
  "5283",
  "646",
  "1185",
  "281",
  "7799",
  "4378",
  "2526",
  "13933",
  "3435",
  "6023",
  "410846",
  "4433",
  "189781",
  "2759",
  "1315",
  "16884",
  "302",
  "239",
  "3096",
  "1642",
  "11161",
  "1349",
  "191042",
  "114",
  "1408",
  "2842",
  "17571",
  "2433",
  "56",
  "8637",
  "83",
  "9581",
  "3317",
  "211333",
  "194",
  "230941",
  "9051",
  "539",
  "193785",
  "17858",
  "16041",
  "17106",
  "9222",
  "323",
  "13418",
  "5025",
  "738",
  "129",
  "6591",
  "75",
  "9052",
  "16098",
  "4816",
  "999",
  "3417",
  "647",
  "1689",
  "5197",
  "1593",
  "188955",
  "13150",
  "897",
  "3457",
  "548",
  "21",
  "331",
  "20701",
  "262572",
  "732",
  "1118",
  "725",
  "19146",
  "989",
  "239023",
  "222389",
  "913",
  "7657",
  "15633",
  "7811",
  "191326",
  "8971",
  "239622",
  "5516",
  "733",
  "13474",
  "7732",
  "5952",
  "197007",
  "5431",
  "2042",
  "6111",
  "211644",
  "12021",
  "5543",
  "11528",
  "210629",
  "9198",
  "2025",
  "12577",
  "1584",
  "1520",
  "15838",
  "3368",
  "6351",
  "18428",
  "1401",
  "1626",
  "333",
  "18085",
  "1911",
  "15850",
  "139",
  "8726",
  "13596",
  "294226",
  "240457",
  "16066",
  "1430",
  "16148",
  "341",
  "617",
  "5653",
  "4877",
  "210871",
  "4044",
  "5303",
  "12031",
  "312",
  "211186",
  "213618",
  "10530",
  "2802",
  "34",
  "834",
  "1480",
  "4085",
  "7143",
  "851",
  "14231",
  "278406",
  "13729",
  "59",
  "4865",
  "2739",
  "195091",
  "1702",
  "2736",
  "3966",
  "1285",
  "4991",
  "15732",
  "5498",
  "20633",
  "9178",
  "8899",
  "18413",
  "11040",
  "12256",
  "194346",
  "238758",
  "66",
  "3887",
  "4286",
  "9412",
  "574",
  "10810",
  "2883",
  "240247",
  "1527",
  "303",
  "15983",
  "5181",
  "473",
  "3506",
  "1628",
  "4484",
  "976",
  "260",
  "2480",
  "3519",
  "378",
  "9050",
  "10990",
  "4167",
  "11500",
  "5448",
  "872",
  "516",
  "1317",
  "2420",
  "4904",
  "5604",
  "9391",
  "4282",
  "2600",
  "297953",
  "164",
  "43",
  "1214",
  "231836",
  "4275",
  "18931",
  "4461",
  "4743",
  "457",
  "18586",
  "680",
  "1104",
  "8200",
  "12152",
  "189733",
  "311",
  "13901",
  "10971",
  "1287",
  "13495",
  "5818",
  "4179",
  "2194",
  "3264",
  "4547",
  "245468",
  "2112",
  "14396",
  "2417",
  "3609",
  "14539",
  "498",
  "17129",
  "358",
  "472",
  "5511",
  "190045",
  "604",
  "9134",
  "3520",
  "965",
  "196378",
  "3306",
  "3881",
  "60",
  "28",
  "19858",
  "2085",
  "326920",
  "11599",
  "16405",
  "1198",
  "3558",
  "238307",
  "771",
  "2240",
  "241299",
  "4888",
  "20286",
  "379",
  "734",
  "577",
  "4415",
  "2558",
  "9618",
  "1864",
  "8939",
  "7960",
  "12",
  "214212",
  "3635",
  "12224",
  "17796",
  "589",
  "946",
  "6806",
  "2007",
  "2745",
  "7061",
  "602",
  "230991",
  "206",
  "17256",
  "639",
  "15211",
  "210648",
  "446249",
  "13610",
  "16085",
  "196033",
  "554",
  "1898",
  "10190",
];
